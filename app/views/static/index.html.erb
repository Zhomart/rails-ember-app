<script type="text/x-handlebars">
  <div class="container" style="margin-top: 20px">
    <nav class="navbar navbar-default" role="navigation">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Brand</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          {{#link-to "posts" tagName="li" href=false}}<a {{bind-attr href="view.href"}}>Posts</a>{{/link-to}}
          {{#link-to "about" tagName="li" href=false}}<a {{bind-attr href="view.href"}}>About</a>{{/link-to}}
        </ul>
      </div> <!-- /.navbar-collapse -->
    </nav>
  </div> <!-- /.container -->

  <div class="container">
    {{outlet}}
  </div>
</script>

<script type="text/x-handlebars" id="posts">
  <div class="row">
    <div class="col-md-3">
      <table class="table">
        <thead>
          <tr>
            <th>Recent Posts</th>
          </tr>
        </thead>
        <tbody>
          {{#each model}}
            <tr>
              <td>
                {{#link-to 'post' this}} {{title}} <small class="text-muted">by {{author}}</small>{{/link-to}}
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    <div class="col-md-9">
      {{outlet}}
    </div>
  </div>
</script>

<script type="text/x-handlebars" id="posts/index">
  <p class="text-warning">Please select a post</p>
</script>

<script type="text/x-handlebars" id="post">
  {{#if is_editing}}
    {{partial 'post/edit'}}
    Edit Mode
    <button {{action 'toggle_editing'}}>Done</button>
  {{else}}
    <button {{action 'toggle_editing'}}>Edit</button>
  {{/if}}

  <h1>{{title}}</h1>
  <h2>by {{author}} <small class="text-muted">({{date published_at}})</small></h2>

  <hr>

  <div class="text-intro">
    {{markdown intro}}
  </div>

  <div class="below-the-fold">
    {{markdown extended}}
  </div>
</script>

<script type="text/x-handlebars" id="post/_edit">
  <p>{{view Ember.TextField valueBinding='title' size=80}}</p>
  <p>{{view Ember.TextArea valueBinding='intro' rows=4 cols=80}}</p>
  <p>{{view Ember.TextArea valueBinding='extended' rows=8 cols=80}}</p>
</script>

<script type="text/x-handlebars" id="about">
  <div class="about">
    this is about page
  </div>
</script>
